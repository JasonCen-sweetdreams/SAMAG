In multi-agent systems, efficient task allocation is crucial for achieving collective goals. This paper presents a novel hierarchical graph attention network (HGAN) architecture that learns to allocate tasks to agents based on their capabilities, dependencies, and resource constraints. Our approach leverages graph attention mechanisms to model complex relationships between agents and tasks, and hierarchical pooling to capture both local and global dependencies. Experimental results on a suite of benchmark problems demonstrate that HGAN outperforms state-of-the-art methods in terms of task completion rate, resource utilization, and adaptability to changing environments.