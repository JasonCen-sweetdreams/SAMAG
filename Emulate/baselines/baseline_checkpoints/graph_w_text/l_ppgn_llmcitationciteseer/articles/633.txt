Distributed database systems with heterogeneous storage configurations pose significant challenges for query optimization. This paper presents 'OptiStore', a novel framework that leverages machine learning and graph-based modeling to optimize query plans for distributed databases with varying storage types. OptiStore integrates a cost-based optimizer with a storage-aware query planner, enabling efficient query execution across different storage hierarchies. Our experimental evaluation on a real-world distributed database system shows that OptiStore outperforms state-of-the-art query optimizers, reducing query latency by up to 40% and improving overall system throughput.