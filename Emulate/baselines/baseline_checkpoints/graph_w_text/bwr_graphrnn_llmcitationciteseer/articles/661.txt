This paper addresses the problem of distributed task allocation for heterogeneous multi-agent systems, where agents have varying capabilities and tasks require diverse skills. We propose a novel approach that leverages graph neural networks (GNNs) to learn a task allocation policy that optimizes system-wide performance. Our method, called GNN-TA, represents the agent-task graph as a heterogeneous graph and utilizes GNNs to learn complex relationships between agents and tasks. Experimental results on a realistic simulation platform demonstrate that GNN-TA outperforms state-of-the-art methods in terms of task completion rate, latency, and robustness to agent failures.