This paper addresses the challenging problem of multi-agent task allocation in dynamic environments with temporal and spatial constraints. We propose a novel distributed algorithm, 'CoMA', which leverages a combination of graph-based methods and constraint satisfaction techniques to efficiently allocate tasks to agents. CoMA takes into account the agents' capabilities, task dependencies, and time-sensitive constraints to optimize the overall system performance. Experimental results on a set of benchmark problems demonstrate that CoMA outperforms existing state-of-the-art approaches in terms of solution quality, computational efficiency, and scalability.