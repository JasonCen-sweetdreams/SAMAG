This paper proposes a novel multi-agent reinforcement learning framework for dynamic task allocation in smart grids. The framework, called MATRA, models the interactions between agents as a decentralized partially observable Markov decision process. MATRA uses a hybrid approach that combines centralized planning with decentralized execution, enabling efficient allocation of tasks to agents in real-time. We evaluate MATRA on a simulated smart grid environment and demonstrate significant improvements in task completion rates and reduced energy consumption compared to traditional centralized approaches.