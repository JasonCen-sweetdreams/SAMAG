This paper presents a novel hierarchical task network planning framework for multi-agent systems operating in uncertain environment dynamics. We introduce a probabilistic planning approach that leverages Bayesian networks to model the uncertainty in the environment and task dependencies. Our framework enables agents to adapt to changing environmental conditions and replan tasks accordingly. We evaluate the proposed approach using a simulated urban search and rescue scenario, demonstrating improved task completion rates and reduced planning time compared to state-of-the-art methods.