In multi-agent systems, effective task allocation is crucial for achieving global objectives. This paper presents a decentralized approach based on distributed constraint optimization (DCOP) to assign tasks to agents in a distributed manner. Our method, called D-TOGA, leverages local search and message-passing protocols to find near-optimal solutions in polynomial time. Experimental results on a variety of task allocation benchmarks demonstrate that D-TOGA outperforms existing decentralized methods in terms of solution quality and scalability. Furthermore, we provide theoretical guarantees on the convergence of our algorithm under certain graph structures.