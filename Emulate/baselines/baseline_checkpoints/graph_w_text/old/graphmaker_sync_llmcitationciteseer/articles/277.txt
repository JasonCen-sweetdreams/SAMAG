This paper addresses the task allocation problem in multi-agent systems, where agents with diverse capabilities need to be assigned to tasks with varying requirements. We propose a decentralized approach based on distributed constraint optimization, which allows agents to negotiate and allocate tasks in a peer-to-peer manner. Our algorithm, called DCO-TA, leverages a novel combination of constraint propagation and Lagrangian relaxation to efficiently explore the space of possible task assignments. Experimental results on a variety of benchmarks demonstrate that DCO-TA outperforms state-of-the-art centralized methods in terms of solution quality and scalability.