This paper addresses the problem of task allocation in decentralized multi-agent systems, where agents with varying capabilities and preferences need to coordinate to accomplish complex tasks. We propose a novel auction-based mechanism, called 'Distributed Proportional Allocation' (DPA), which enables agents to bid for tasks based on their capabilities and preferences. DPA ensures efficient task allocation while maintaining fairness and minimizing communication overhead. We evaluate DPA through extensive simulations, demonstrating its effectiveness in various scenarios and its robustness to agent failures and dynamic changes in the system.