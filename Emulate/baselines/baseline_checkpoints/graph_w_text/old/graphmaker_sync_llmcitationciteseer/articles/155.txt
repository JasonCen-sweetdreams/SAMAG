This paper introduces HTR-MA, a novel hierarchical task planning framework that leverages multi-agent reinforcement learning to efficiently adapt to dynamic environments. HTR-MA decomposes complex tasks into sub-goals and allocates them to agents using a hierarchical planning approach. The agents then learn to execute these sub-goals through reinforcement learning, incorporating feedback from the environment to adapt to changing conditions. We evaluate HTR-MA in a simulated robotic warehouse scenario, demonstrating improved task completion rates and reduced planning times compared to state-of-the-art single-agent approaches.