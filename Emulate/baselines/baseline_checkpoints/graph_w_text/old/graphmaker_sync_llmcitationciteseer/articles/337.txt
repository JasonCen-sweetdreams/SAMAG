In multi-agent systems, efficient task allocation is crucial for achieving collective goals. This paper proposes a novel hierarchical attention-based graph neural network (HAGNN) to tackle this problem. HAGNN represents agents and tasks as nodes in a graph, and learns to allocate tasks by recursively aggregating features from neighboring nodes. The hierarchical attention mechanism allows agents to selectively focus on relevant tasks and information, leading to improved allocation efficiency. Experiments on simulated multi-agent tasks demonstrate the superiority of HAGNN over traditional optimization-based methods, particularly in scenarios with large numbers of agents and tasks.