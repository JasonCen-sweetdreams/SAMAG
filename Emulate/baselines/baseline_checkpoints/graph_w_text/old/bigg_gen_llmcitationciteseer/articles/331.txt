In multi-agent systems, efficient task allocation is crucial for achieving collective goals. This paper presents a decentralized task allocation framework that leverages stochastic optimization to allocate tasks in a distributed manner. Our approach utilizes a probabilistic graphical model to represent the agent-task relationships, and employs a message-passing algorithm to iteratively refine the allocation. We demonstrate the effectiveness of our approach through simulations on a range of scenarios, showcasing improved task completion rates and reduced communication overhead compared to existing decentralized allocation methods.