In multi-agent systems, task allocation is a crucial problem that requires efficient and scalable solutions. This paper proposes a decentralized approach based on distributed constraint optimization (DCOP) to allocate tasks to agents in a network. We present a novel algorithm, called DTA-DCOP, which uses a iterative process to refine the task assignments and minimize the overall cost of the system. Experimental results on a variety of scenarios demonstrate that DTA-DCOP outperforms existing decentralized methods in terms of solution quality and communication overhead.