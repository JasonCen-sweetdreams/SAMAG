As data scales and becomes increasingly distributed, query optimization in relational databases is becoming a significant bottleneck. In this paper, we present a novel approach to query optimization that leverages machine learning and graph-based methods to efficiently optimize queries across distributed databases. Our approach, 'DQO', uses a hierarchical graph neural network to model the database schema and generate optimized query plans. Experimental results on a real-world dataset demonstrate that DQO achieves up to 3x speedup compared to state-of-the-art query optimization techniques.