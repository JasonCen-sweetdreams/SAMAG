In multi-agent systems, task allocation is a critical problem that requires efficient and adaptive decision-making. This paper proposes a novel framework that leverages graph neural networks (GNNs) to learn task allocation policies. We model the agent-task relationships as a graph and use GNNs to learn a hierarchical representation of the agents' capabilities and task requirements. Our approach allows for online adaptation to changing task requirements and agent availability, outperforming traditional optimization-based approaches in simulations. We demonstrate the effectiveness of our method in a real-world robotics application, where a team of robots must collaborate to complete a set of tasks in a dynamic environment.