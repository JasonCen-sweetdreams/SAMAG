This paper addresses the problem of efficient task allocation in large-scale multi-agent systems. We propose a novel hierarchical graph attention network (HGAN) framework that learns to allocate tasks to agents based on their capabilities, availability, and spatial proximity. HGAN leverages graph attention mechanisms to model complex dependencies between agents and tasks, and hierarchical clustering to reduce computational complexity. Experimental results on synthetic and real-world datasets demonstrate that HGAN outperforms state-of-the-art task allocation algorithms in terms of scalability, flexibility, and overall system performance.