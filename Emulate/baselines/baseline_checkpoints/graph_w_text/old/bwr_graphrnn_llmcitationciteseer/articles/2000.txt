In multi-agent systems, efficient task allocation is crucial for achieving collective goals. This paper proposes a decentralized task allocation framework that leverages reinforcement learning to optimize task assignments in heterogeneous agent environments. Our approach, called 'HRL-TA', uses a hierarchical reinforcement learning architecture to learn task-dependent policies for each agent, taking into account their unique capabilities and resource constraints. Simulation results demonstrate that HRL-TA outperforms traditional centralized and decentralized allocation methods in terms of task completion rate, energy efficiency, and robustness to agent failures.