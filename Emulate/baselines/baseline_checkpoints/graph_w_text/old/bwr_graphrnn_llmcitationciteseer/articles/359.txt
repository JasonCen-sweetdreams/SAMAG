This paper proposes a novel decentralized task allocation approach for heterogeneous multi-agent systems, where agents with diverse capabilities and resources need to cooperate to accomplish complex tasks. We leverage graph neural networks to learn a distributed task allocation policy, which takes into account the agents' capabilities, task requirements, and communication constraints. Our approach enables agents to make local decisions based on their partial observations of the system state, while still achieving near-optimal global performance. Experimental results on a simulated search-and-rescue scenario demonstrate the effectiveness and scalability of our method.