Query expansion is a crucial step in information retrieval systems, aiming to refine the original query to better capture user intent. This paper proposes a novel approach, dubbed DeepQE, which leverages deep neural networks to learn query expansion patterns from large-scale clickthrough data. Our model employs a hierarchical attention mechanism to selectively incorporate relevant terms from the top-ranked documents, resulting in significant improvements in retrieval effectiveness. Experimental results on several benchmark datasets demonstrate the superiority of DeepQE over state-of-the-art query expansion methods, particularly in terms of precision and robustness to query ambiguity.