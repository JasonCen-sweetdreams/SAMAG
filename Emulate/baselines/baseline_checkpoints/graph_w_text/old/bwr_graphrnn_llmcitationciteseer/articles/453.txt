This paper addresses the challenging problem of task allocation in multi-agent systems, where agents with varying capabilities and limitations must coordinate to accomplish complex tasks. We propose a decentralized approach that leverages graph neural networks (GNNs) to learn effective task assignments. Our method, dubbed 'GNN-TA', represents the agent-task graph as a neural network and trains it to optimize a novel, differentiable objective function that promotes task completion and resource efficiency. Experimental results demonstrate that GNN-TA outperforms traditional optimization-based methods and achieves near-optimal performance in various scenarios, including robot swarms and IoT networks.