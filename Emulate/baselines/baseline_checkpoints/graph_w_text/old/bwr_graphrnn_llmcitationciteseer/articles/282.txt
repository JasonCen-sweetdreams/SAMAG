The proliferation of IoT devices has generated vast amounts of time-series sensor data, posing significant challenges for anomaly detection. Traditional methods struggle to capture complex patterns and relationships within this data. This paper proposes a novel hierarchical attention network (HAN) architecture, which leverages both local and global contextual information to identify anomalies. Our approach consists of a attention-based feature extractor, followed by a hierarchical aggregation mechanism that incorporates domain knowledge. Experimental results on real-world IoT datasets demonstrate the superior performance of HAN compared to state-of-the-art methods, achieving an average improvement of 12.5% in F1-score.