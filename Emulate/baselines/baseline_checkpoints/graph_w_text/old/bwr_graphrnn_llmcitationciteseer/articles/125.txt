Query expansion is a crucial component in information retrieval systems, as it can significantly improve the retrieval performance. However, existing approaches often suffer from high computational costs and limited effectiveness. This paper proposes a novel hierarchical neural network-based query expansion method, which leverages the strengths of both local and global contextualized representations. Our approach uses a hierarchical attention mechanism to weigh the importance of different query terms and expansion candidates, resulting in more accurate and diverse expanded queries. Experimental results on several benchmark datasets demonstrate that our method outperforms state-of-the-art query expansion techniques in terms of retrieval effectiveness and efficiency.