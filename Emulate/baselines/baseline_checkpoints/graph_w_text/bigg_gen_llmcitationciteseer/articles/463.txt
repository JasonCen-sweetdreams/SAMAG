We present a novel decentralized task allocation framework for autonomous agents, leveraging distributed constraint optimization (DCOP) to efficiently allocate tasks in a dynamic, real-time environment. Our approach, called 'AgentDCOP', models the task allocation problem as a DCOP, enabling agents to communicate and coordinate with each other to find a globally optimal solution. We propose a novel distributed algorithm that utilizes a combination of message-passing and local search to solve the DCOP, ensuring scalability and robustness in the face of agent failures or dynamic task changes. Experimental results on a simulated robotic swarm demonstrate the effectiveness of AgentDCOP in achieving high-quality task allocations while adapting to changing environmental conditions.