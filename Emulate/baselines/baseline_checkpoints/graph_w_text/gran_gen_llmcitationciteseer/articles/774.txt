This paper addresses the problem of task allocation in multi-agent systems, where agents with diverse capabilities and preferences need to form coalitions to accomplish complex tasks. We propose a decentralized coalition formation protocol, 'AgentCoal', which leverages graph-based modeling and distributed constraint optimization techniques. AgentCoal enables agents to autonomously form coalitions, negotiate task assignments, and adapt to dynamic changes in the environment. Experimental results demonstrate that AgentCoal outperforms existing centralized approaches in terms of task completion rate, coalition stability, and agent satisfaction.