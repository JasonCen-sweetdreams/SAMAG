This paper presents a novel planning framework for multi-agent systems operating in dynamic environments. We propose a hierarchical task network (HTN) planning approach that integrates symbolic planning with geometric reasoning to generate feasible plans for multiple agents. Our framework can handle complex tasks, such as search and rescue operations, by decomposing them into sub-tasks and allocating them to individual agents. We evaluate our approach in simulated scenarios and demonstrate its effectiveness in adapting to changing environmental conditions. The results show significant improvements in plan efficiency and robustness compared to flat planning methods.