Task allocation in multi-agent systems is a challenging problem, especially in dynamic and uncertain environments. This paper proposes a novel approach that leverages deep reinforcement learning to learn coordinated task allocation strategies. We design a decentralized, multi-agent framework that utilizes graph neural networks to model agent interactions and a hierarchical reinforcement learning architecture to optimize task allocation. Experimental results on a simulated search-and-rescue scenario demonstrate the effectiveness of our approach in improving overall system performance and adapting to changing environmental conditions.