In complex multi-agent systems, task allocation is a challenging problem due to the exponential growth of possible assignments. This paper proposes a novel approach using graph neural networks (GNNs) to efficiently allocate tasks to agents. Our method, called GraphMA, represents the agent-task graph as a learnable structure, enabling the GNN to capture subtle dependencies between agents and tasks. We evaluate GraphMA on several benchmarks, demonstrating a significant reduction in computational complexity and improved solution quality compared to state-of-the-art methods. Furthermore, we show that GraphMA can be easily extended to accommodate dynamic task arrivals and agent failures.