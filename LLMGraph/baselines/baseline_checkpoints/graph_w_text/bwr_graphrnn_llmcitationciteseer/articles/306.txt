This paper presents a novel Hierarchical Task Network (HTN) planning framework for Multi-Agent Systems (MAS) operating in uncertain environments. We introduce a probabilistic task representation that captures the uncertain dynamics of individual agents and their interactions. Our approach leverages a decentralized partial observable Markov decision process (Dec-POMDP) to coordinate agent actions and achieve complex tasks. Experimental results demonstrate the effectiveness of our approach in a simulated search-and-rescue scenario, where agents must adapt to changing environmental conditions and uncertain sensor readings.