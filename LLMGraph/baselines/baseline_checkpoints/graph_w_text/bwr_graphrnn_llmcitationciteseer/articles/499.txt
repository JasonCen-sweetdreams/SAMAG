Coordinating multiple agents to achieve complex tasks is a challenging problem in multi-agent systems. This paper introduces a novel framework based on hierarchical task networks (HTNs) to coordinate agents in dynamic environments. Our approach represents tasks as hierarchical graphs, enabling agents to reason about task dependencies and allocate resources efficiently. We develop a distributed planning algorithm that leverages HTNs to generate coordinated plans, and demonstrate its effectiveness in a simulated disaster response scenario. Experimental results show that our approach outperforms existing methods in terms of task completion time and resource utilization.