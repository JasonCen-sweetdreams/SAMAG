In this paper, we propose a novel approach to coordinated task allocation for heterogeneous multi-agent systems using graph neural networks (GNNs). Our method, called Graph-based Task Allocation (GTA), leverages the expressive power of GNNs to learn effective task assignments in complex, dynamic environments. We introduce a hierarchical graph representation that captures both inter-agent dependencies and task-specific requirements, and develop a variant of the attention mechanism to facilitate efficient graph-based reasoning. Experimental results on a range of benchmark scenarios demonstrate the superiority of GTA over state-of-the-art methods in terms of task completion efficiency, fairness, and robustness.