In large-scale multi-agent systems, efficient task allocation is crucial for achieving collective goals. This paper presents a novel hierarchical attention network (HAN) architecture, called AgentAllocator, which enables agents to selectively focus on relevant tasks and teammates. By learning to represent tasks and agents as hierarchical embeddings, AgentAllocator outperforms existing methods in terms of task completion rate, communication overhead, and adaptability to changing environments. We evaluate our approach using a realistic simulation framework and demonstrate its applicability to various multi-agent domains.