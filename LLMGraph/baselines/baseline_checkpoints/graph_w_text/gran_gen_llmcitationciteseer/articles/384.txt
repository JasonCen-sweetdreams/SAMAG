This paper addresses the problem of task planning for multi-agent systems in dynamic environments with resource constraints. We propose a hierarchical task network (HTN) planning framework that integrates both symbolic and geometric planning to generate efficient and feasible plans. Our approach leverages a novel resource-aware task decomposition strategy that adapts to changing resource availability and agent capabilities. Experimental results demonstrate the effectiveness of our approach in a variety of scenarios, including search and rescue, environmental monitoring, and surveillance.