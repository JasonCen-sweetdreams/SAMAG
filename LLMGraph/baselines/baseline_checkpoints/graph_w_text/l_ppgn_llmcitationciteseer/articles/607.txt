In multi-agent systems, task allocation is a crucial problem that requires efficient and scalable solutions. This paper presents a novel approach based on distributed constraint optimization (DCOP) to allocate tasks to agents in a cooperative manner. We propose a hierarchical DCOP framework that leverages the agents' local problem-solving capabilities to reduce the communication overhead and improve the overall system performance. Experimental results on a simulated disaster response scenario demonstrate the effectiveness of our approach in achieving better task allocation quality and adaptability to dynamic environments compared to traditional centralized methods.