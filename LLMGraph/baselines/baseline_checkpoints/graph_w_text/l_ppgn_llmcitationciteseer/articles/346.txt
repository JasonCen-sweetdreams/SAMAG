This paper addresses the problem of coordinated task allocation in heterogeneous multi-agent systems, where agents with different capabilities and constraints need to work together to accomplish complex tasks. We propose a novel deep reinforcement learning framework, 'HTA-RL', that learns to allocate tasks to agents based on their individual characteristics and the task requirements. Our approach leverages a graph neural network to model the agent-task interactions and a hierarchical reinforcement learning architecture to optimize the allocation policy. Experimental results on a variety of scenarios demonstrate that HTA-RL outperforms existing methods in terms of task completion rate, agent utilization, and system adaptability.