In multi-agent systems, efficient task allocation is crucial for achieving collective goals. This paper proposes a novel hierarchical graph attention network (H-GAT) that learns to distribute tasks among agents based on their capabilities, spatial relationships, and task dependencies. Our approach leverages graph attention mechanisms to model complex agent interactions and a hierarchical architecture to capture both local and global dependencies. Experimental results on a simulated search-and-rescue scenario demonstrate that H-GAT outperforms state-of-the-art methods in terms of task completion time and overall system efficiency.