Conventional query expansion techniques often rely on term frequency and co-occurrence, neglecting the nuances of user context and search intent. This paper presents a novel context-aware query expansion framework, CAQE, which incorporates user profiling, query intent classification, and semantic role labeling. CAQE dynamically selects expansion terms based on the user's search history, query semantics, and the desired level of result diversification. Experimental results on a large-scale search logs dataset demonstrate that CAQE improves the diversity and relevance of search results, outperforming state-of-the-art query expansion methods.