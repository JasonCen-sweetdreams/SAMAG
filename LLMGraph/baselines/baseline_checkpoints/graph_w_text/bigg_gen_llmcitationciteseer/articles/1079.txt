The efficient allocation of tasks to autonomous agents in decentralized systems is a challenging problem, particularly when agents have heterogeneous capabilities and preferences. This paper presents a novel approach that leverages deep reinforcement learning to learn a decentralized task allocation policy. Our method, called HATPA, uses a multi-agent Q-network to learn the optimal task allocation strategy based on the agents' capabilities, task requirements, and environmental constraints. We evaluate HATPA in a simulated warehouse scenario with heterogeneous robots and demonstrate significant improvements in task completion efficiency and fairness compared to traditional methods.