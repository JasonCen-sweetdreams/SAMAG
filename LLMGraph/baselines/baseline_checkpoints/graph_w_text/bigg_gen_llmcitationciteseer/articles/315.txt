Multi-agent planning in dynamic environments is a challenging problem due to the curse of dimensionality and the need for real-time decision-making. This paper presents a novel hierarchical task decomposition approach, 'HierPlan', which enables efficient planning for teams of agents in partially observable environments. HierPlan leverages a hierarchical task representation and a probabilistic inference mechanism to recursively decompose complex tasks into smaller sub-tasks, allowing agents to focus on local decision-making while maintaining global coherence. Experimental results in a simulated disaster response scenario demonstrate significant improvements in planning efficiency and team performance compared to state-of-the-art decentralized planning methods.