Main-memory database systems (MMDBs) have emerged as a promising solution for high-performance data processing. However, their indexing mechanisms often struggle to keep pace with the rapid growth of data volumes and changing query patterns. This paper presents 'AdaptaIndex', a novel indexing framework that dynamically adjusts to the workload and data characteristics of MMDBs. AdaptaIndex leverages machine learning-based cost models to select the most effective indexing strategy, and incorporates a hierarchical indexing structure to minimize memory overhead. Experimental results demonstrate that AdaptaIndex achieves significant performance improvements over state-of-the-art indexing techniques in MMDBs, while ensuring efficient memory utilization.