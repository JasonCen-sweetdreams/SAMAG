Effective task allocation is crucial in multi-agent systems, where agents with unique capabilities and limitations must collaborate to achieve complex objectives. This paper introduces HATGNN, a novel hierarchical attention graph neural network that leverages agent-task affinity and inter-agent relationships to optimize task allocation. HATGNN consists of a graph encoder that captures agent-task interactions and a hierarchical attention mechanism that selectively focuses on relevant agents and tasks. Experimental results on a simulated search-and-rescue scenario demonstrate that HATGNN outperforms state-of-the-art methods in terms of task completion rate and agent utilization.