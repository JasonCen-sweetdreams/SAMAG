In multi-agent systems, task allocation is a critical problem that requires efficient and scalable solutions. This paper presents a decentralized approach to task allocation using distributed constraint optimization (DCOP). We propose a novel algorithm, D-TA, which leverages the concept of factor graphs to model the task allocation problem and solves it using message-passing inference. Experimental results on a variety of scenarios demonstrate that D-TA outperforms existing methods in terms of solution quality and computational efficiency, making it a promising approach for real-world applications.