In multi-agent systems, task allocation is a crucial problem that requires efficient and effective assignments of tasks to agents. This paper introduces a novel hierarchical graph attention network (HGAN) framework that leverages the structural properties of agent-task graphs to learn task allocation policies. HGAN consists of two stages: (1) a graph attention module that learns to focus on relevant agent-task relationships, and (2) a hierarchical pooling module that aggregates information across different graph scales. Experimental results on several benchmark datasets demonstrate that HGAN significantly outperforms state-of-the-art methods in terms of task completion time and agent utilization.