Task allocation is a fundamental problem in multi-agent systems, where agents with diverse capabilities need to coordinate to accomplish complex tasks. This paper introduces a decentralized task allocation framework, 'GraphAgent', which leverages graph neural networks (GNNs) to learn agent embeddings and task affinity matrices. GraphAgent can handle heterogeneous agents with varying capabilities and communication constraints, and is shown to outperform traditional centralized and distributed allocation methods in extensive simulations. We demonstrate the effectiveness of GraphAgent in a real-world disaster response scenario, where it enables efficient allocation of search and rescue tasks to a team of robots and drones.