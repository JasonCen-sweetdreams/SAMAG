Personalized search seeks to tailor search results to individual users' preferences and behaviors. This paper presents a novel context-aware neural ranking model, 'CARNA', which integrates user context, query semantics, and document features to produce more accurate and diverse search results. We employ a hierarchical attention mechanism to model complex relationships between context variables and document attributes, and demonstrate significant improvements over state-of-the-art neural ranking models on a large-scale search log dataset.