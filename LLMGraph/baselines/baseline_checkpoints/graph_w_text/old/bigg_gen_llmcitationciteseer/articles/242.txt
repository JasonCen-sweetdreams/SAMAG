This paper addresses the problem of task allocation in heterogeneous multi-agent systems, where agents have varying capabilities and tasks require diverse skills. We propose a decentralized approach that leverages graph neural networks (GNNs) to learn a task allocation policy. Our method, called Graph-TAP, represents the agent-task graph as a heterogeneous graph and utilizes GNNs to learn a shared representation of agents and tasks. Experimental results on a variety of scenarios demonstrate that Graph-TAP outperforms traditional methods, such as auctions and centralized optimization, in terms of task completion rate, fairness, and robustness to agent failures.