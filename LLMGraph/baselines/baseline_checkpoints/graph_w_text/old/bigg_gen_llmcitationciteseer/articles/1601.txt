Task allocation in multi-agent systems is a challenging problem, particularly in scenarios with complex task dependencies and dynamic agent capabilities. This paper proposes a novel approach that leverages graph neural networks (GNNs) to learn effective task allocation strategies. Our method, called GraphTask, represents the agent-task graph as a neural network and uses a policy-based optimization algorithm to learn coordinated task assignments. We evaluate GraphTask on a range of synthetic and real-world scenarios, demonstrating significant improvements in task completion efficiency and robustness compared to state-of-the-art methods.