Anomaly detection is a critical task in IoT systems, where timely detection of unusual patterns can prevent catastrophic failures. This paper proposes a novel hierarchical graph attention network (HGAT) architecture, which leverages both structural and temporal dependencies in IoT sensor data to identify anomalies in real-time. We introduce a graph attention mechanism that adaptively weights node features based on their importance in the graph, and a hierarchical fusion module that integrates information from multiple graph scales. Experimental results on a large-scale IoT dataset demonstrate that HGAT outperforms state-of-the-art methods in terms of detection accuracy and latency, making it suitable for real-world IoT deployments.