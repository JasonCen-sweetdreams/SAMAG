Database-as-a-Service (DBaaS) platforms have become increasingly popular for multi-tenant applications. However, query optimization remains a significant challenge in such environments, where resource contention and varying workload patterns are common. This paper presents a novel query optimization framework, 'OptiFlex', which leverages machine learning and graph-based models to predict and adapt to changing workload patterns. Our approach incorporates a hierarchical optimization strategy that balances query performance and resource utilization across multiple tenants. Experimental results on a real-world DBaaS platform demonstrate significant improvements in query execution times and resource efficiency compared to existing optimization techniques.