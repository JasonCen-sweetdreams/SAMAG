In dynamic environments, task allocation among agents is crucial for efficient resource utilization. This paper presents a novel framework for heterogeneous agent coalition formation, which considers diverse agent capabilities, task requirements, and environmental uncertainty. We propose a two-stage approach, consisting of a graph-based representation of agent-task compatibility and a distributed constraint optimization algorithm for coalition formation. Experimental evaluations on a simulated disaster response scenario demonstrate improved task completion rates, reduced communication overhead, and enhanced adaptability to environmental changes.