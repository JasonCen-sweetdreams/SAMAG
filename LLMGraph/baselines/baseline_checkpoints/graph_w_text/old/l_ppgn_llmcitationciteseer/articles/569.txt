This paper addresses the problem of planning and resource allocation for multi-agent systems in the presence of uncertainty. We propose a hierarchical task network (HTN) planning framework that integrates probabilistic resource modeling and agent-centric decision-making. Our approach enables agents to reason about uncertain resource availability and dynamically adjust their plans to maximize task execution probability. Experimental results on a simulated disaster response scenario demonstrate the effectiveness of our approach in improving task completion rates and reducing resource waste compared to traditional HTN planning methods.