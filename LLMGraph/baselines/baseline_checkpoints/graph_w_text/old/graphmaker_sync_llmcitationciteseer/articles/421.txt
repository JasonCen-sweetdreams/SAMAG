Query expansion is a crucial component in ad-hoc retrieval, where the goal is to reformulate the original query to better capture the user's information need. This paper proposes a novel approach to query expansion using deep neural networks, which learns to predict relevant expansion terms from a large corpus of text. Our model, called DeepQE, employs a hierarchical attention mechanism to selectively focus on relevant context and generate expansion terms that are both diverse and effective. Experimental results on several benchmark datasets demonstrate that DeepQE outperforms state-of-the-art query expansion methods, leading to significant improvements in retrieval performance.