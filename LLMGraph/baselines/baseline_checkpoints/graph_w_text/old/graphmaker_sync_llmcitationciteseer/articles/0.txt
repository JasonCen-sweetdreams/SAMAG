This paper addresses the problem of task allocation in heterogeneous multi-agent systems, where agents have varying capabilities and incomplete information about the environment. We propose a decentralized algorithm, 'Hydra', that leverages probabilistic graphical models to represent the uncertainty in agent capabilities and task requirements. Hydra uses a distributed consensus protocol to iteratively refine the task assignments, ensuring robustness to incomplete information and improving system performance. Experimental results on a simulated disaster response scenario demonstrate the effectiveness of Hydra in achieving efficient task allocation and adapting to dynamic changes in the environment.