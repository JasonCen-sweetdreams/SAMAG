This paper addresses the problem of task allocation in heterogeneous multi-agent systems, where agents with different capabilities and resource constraints need to be assigned to tasks with varying requirements. We propose a decentralized auction-based mechanism, called HAMA, that leverages a novel bid-generation strategy to efficiently allocate tasks to agents. HAMA incorporates a feedback loop to adapt to changing agent capabilities and task requirements, ensuring robustness and flexibility in dynamic environments. Experimental results on a simulated disaster response scenario demonstrate that HAMA outperforms existing centralized and decentralized task allocation methods in terms of task completion rate, agent utilization, and system adaptability.