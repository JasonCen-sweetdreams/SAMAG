Coordinating task allocation in multi-agent systems is a challenging problem, especially in complex and dynamic environments. This paper presents a novel approach based on hierarchical graph attention networks (HGATs) to tackle this problem. We model the agent-task interaction as a hierarchical graph, where agents and tasks are represented as nodes, and attention mechanisms are used to learn the importance of each node in the allocation process. Experimental results on several benchmark datasets demonstrate that our approach outperforms state-of-the-art methods in terms of task completion rate, agent utilization, and adaptability to changing environmental conditions.