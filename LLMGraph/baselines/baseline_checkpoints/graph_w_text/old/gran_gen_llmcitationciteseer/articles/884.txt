Query expansion is a crucial component in ad-hoc retrieval, aiming to bridge the vocabulary gap between queries and relevant documents. This paper proposes a novel deep neural network-based approach, dubbed 'QE-Net', which learns to generate context-aware expansion terms. QE-Net employs a hierarchical attention mechanism to identify salient query terms and their corresponding semantic roles, and subsequently generates expansion terms via a conditional language model. Experimental results on several benchmark datasets demonstrate that QE-Net outperforms state-of-the-art query expansion methods, yielding significant improvements in retrieval effectiveness.